
== WorksBeyond Graph Set-up
=== This page represents a quick model of how data would be used within the neo4j graph database. Nodes will represent Users (Students, Faculty, Staff), Courses, and Majors. Relationships/Edges will represent a courses relationship to its majors and minors. faculty teaching courses, and students enrolled within the courses. Simple Queries will be demonstrated. 


// setup
//First we will create the user nodes.
[source,cypher]
----
CREATE (Intro_To_Drawing:Course {name: "Intro To Drawing", 
course_id:"AR1010",
credits:"4",
level: "Undergraduate",
prerequisites:"None",
corequisites:"None",
fees:"52 euro",
course_description:"A studio course, which provides an introduction to basic drawing problems for the beginning student interested in developing his or her drawing skills. Subject matter includes still life, portraiture, landscape, and the nude. Mediums introduced are pencil, charcoal, and ink wash.Please note that an additional fee will be charged for this course."})

CREATE (Intro_To_Painting:Course {name: "Intro To Painting", 
course_id:"AR1015",
credits:"4",
level: "Undergraduate",
prerequisites:"None",
corequisites:"None",
fees:"None",
course_description:"For students with little or no previous experience in drawing or painting. First analyzes still life objects in basic plastic terms starting with value. Concentrates during each class session on a new painterly quality until a sufficient visual vocabulary is achieved so that more complicated subjects such as the nude can be approached. Work will be done in oil."})

CREATE (Materials_And_Techniques_Of_The_Masters:Course {name: "Materials & Techniques Of The Masters", 
course_id:"AR1020",
credits:"4",
level: "Undergraduate",
prerequisites:"None",
corequisites:"None",
fees:"None",
course_description:"Techniques of the Masters Lectures, demonstrations, and workshops focus on materials and techniques used by artists over the centuries. Studies the historical background of techniques of drawing, painting, sculpture, and the graphic arts combined with a hands-on approach so that each student can experience the basic elements of the plastic arts.Please note that an additional fee will be charged for this course."})

CREATE (:Course {name: "", 
course_id:"",
credits:"",
level: "",
prerequisites:"",
corequisites:"",
fees:"",
course_description:""})

CREATE (:Course {name: "", 
course_id:"",
credits:"",
level: "",
prerequisites:"",
corequisites:"",
fees:"",
course_description:""})

CREATE (:Course {name: "", 
course_id:"",
credits:"",
level: "",
prerequisites:"",
corequisites:"",
fees:"",
course_description:""})




//now we will create some books

CREATE (sedona:Publication {title:"The Sedona Method", Author:"Hale Dwoskin"})
CREATE (earth:Publication {title:"A New Earth", Author:"Eckhart Tolle"})
CREATE (now:Publication {title:"The Power of Now", Author: "Eckhart Tolle"})

CREATE (tolle:Author {name:"Eckhart Tolle"})-[:AUTHORED]->(earth)
CREATE (tolle)-[:AUTHORED]->(now)
CREATE (hale:Author {name:"Hale Dwoskin"})-[:AUTHORED]->(sedona)

//Book Comments Section
CREATE (SedonaComment1:PubComment {content:"Very Enlightening, I have learned to release!"})


//connect comments to their publications, and users
CREATE (robbie)-[:WROTE_COMMENT]->(SedonaComment1)<-[:HAS_COMMENT]-(sedona)

//Now we will join our friends together

CREATE (robbie)-[:FRIEND]->(oriane)
CREATE (robbie)-[:FRIEND]->(alex)
CREATE (robbie)-[:FRIEND]->(sam)
CREATE (robbie)-[:FRIEND]->(andre)

CREATE (oriane)-[:FRIEND]->(alex)
CREATE (oriane)-[:FRIEND]->(sam)
CREATE (oriane)-[:FRIEND]->(robbie)
CREATE (oriane)-[:FRIEND]->(hannah)
CREATE (oriane)-[:FRIEND]->(cortne)

//All the Users will post a status

CREATE (robbie)-[:WROTE_STATUS]->(status0:Status {id: "0", text: "I make shit happen!!"})
CREATE (oriane)-[:WROTE_STATUS]->(status1:Status {id: "1", text: "I Love me some trees!"})
CREATE (oriane)-[:WROTE_STATUS]->(status2:Status {id: "2", text: "I Love me some wine!"})
CREATE (oriane)-[:WROTE_STATUS]->(status3:Status {id: "3", text: "I Love me some cheese!"})
CREATE (hannah)-[:WROTE_STATUS]->(status4:Status {id: "4", text: "I Love me some beer!"})
CREATE (sam)-[:WROTE_STATUS]->(status5:Status {id: "5", text: "I Love me some Fried Chicken!"})



//Now we will leave comments on each others status. a status comment will be its own entity
CREATE (oriane)-[:WROTE_COMMENT]->(robstat1:StatComment {content:"You Right Boo Boo!"})<-[:HAS_COMMENT]-(status0)


//and for the last part, we will add a likes section 


// Likes
CREATE (status0)<-[:LIKED{ id: "12", text: "Oriane likes this."}]-(oriane)

----
//graph

== Now we will Query common things from the perspective of a user.
 
=== List of Robbies Friends
 
[source,cypher]
----
 MATCH (u:User)-[:FRIEND]->(f)
 WHERE u.name = "Robbie Robinson"
 RETURN f.name AS friends_list
----
//table
 
=== Robbies Comments

[source, cypher]
----
MATCH (u:User)-[:WROTE_STATUS]->(status)
WHERE u.name = "Robbie Robinson"
RETURN u.name as User, status.text as Status
----
//table


=== Robbies news feed (aggregate list of statuses from all friends)

[source,cypher]
----
 MATCH (u:User)-[:FRIEND]-(f)-[:WROTE_STATUS]->(post)
 WHERE u.name = "Robbie Robinson"
 RETURN f.name AS friend, post.text as status
----
//table


=== Robbies Node data 

[source,cypher]
----
MATCH (u:User)
WHERE u.name = "Robbie Robinson"
RETURN u.name as Name, u.age as Age, u.favorite_quote as Favorite_Quote
----
//table


